

<div class="modal-header">
  <div class="modal-body">
    <button type="button" class="close" aria-label="Close" (click)="activeModal.dismiss('Cross click')">
      <span aria-hidden="true">&times;</span>
    </button>
    <h4 class="modal-title">{{type}} User</h4>
  </div>
</div>
<div class="modal-body">
  <form name="form" (ngSubmit)="f.form.valid && save()" #f="ngForm" novalidate>
    <div class="form-group" [ngClass]="{ 'has-danger': f.submitted && !first_name.valid }">
      <label for="firstName">First Name</label>
      <input type="text" class="form-control" id="firstName" name="firstName"
             [(ngModel)]="user.first_name"
             #first_name="ngModel"
             [ngClass]="{ 'is-invalid': f.submitted && !first_name.valid }"
             required />
      <div *ngIf="f.submitted && !first_name.valid" class="help-block invalid-feedback">First Name is required</div>
    </div>
    <div class="form-group" [ngClass]="{ 'has-danger': f.submitted && !last_name.valid }">
      <label for="lastName">Last Name</label>
      <input type="text" class="form-control" id="lastName" name="lastName"
             [(ngModel)]="user.last_name"
             #last_name="ngModel"
             [ngClass]="{ 'is-invalid': f.submitted && !last_name.valid }"
             required />
      <div *ngIf="f.submitted && !last_name.valid" class="help-block invalid-feedback">Last Name is required</div>
    </div>
    <div class="form-group" [ngClass]="{ 'has-danger': f.submitted && !username.valid }">
      <label for="email">Email</label>
      <input type="text" class="form-control" id="email" name="email"
             [(ngModel)]="user.email"
             #username="ngModel"
             [ngClass]="{ 'is-invalid': f.submitted && !username.valid }"
             required />
      <div *ngIf="f.submitted && !username.valid" class="help-block invalid-feedback">Email is required</div>
    </div>
    <div class="form-group" [ngClass]="{ 'has-danger': f.submitted && !password.valid }">
      <label for="password">Password</label>
      <input type="password" class="form-control" id="password" name="password"
             [(ngModel)]="user.password"
             #password="ngModel"
             [ngClass]="{ 'is-invalid': f.submitted && !password.valid }"
             [required]="isNewUser()" />
      <div *ngIf="f.submitted && !password.valid" class="help-block invalid-feedback">Password is required</div>
    </div>
    <div class="form-group" [ngClass]="{ 'has-danger': f.submitted && !confirmPassword.valid }">
      <label for="password">Confirm Password</label>
      <input type="password" class="form-control" id="confirmPassword" name="confirmPassword"
             [(ngModel)]="user.confirm_password"
             #confirmPassword="ngModel"
             [ngClass]="{ 'is-invalid': f.submitted && !confirmPassword.valid }"
             [required]="isNewUser() && passwordExists()" />
      <div *ngIf="f.submitted && !confirmPassword.valid" class="help-block invalid-feedback">Confirm Password is required</div>
    </div>
    <div class="form-group">
      <label for="isAdmin">Administrator</label>
      <input type="checkbox" id="isAdmin" name="isAdmin" [checked]="user.is_admin" (change)="user.is_admin = !user.is_admin" [disabled]="isCurrentUser()" />
    </div>
    <div class="form-group">
      <button type="button" class="btn" (click)="activeModal.dismiss('Close Click')">Cancel</button>
      <button  class="btn btn-primary">Save</button>
    </div>
  </form>
</div>

